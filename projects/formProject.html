<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <link rel="stylesheet" href="formProject.css">
</head>
<body>
    <header>
        <h1>Form</h1>
    </header>
    
    <main>
        <form action="#" method="POST" id="myForm">
            <fieldset>
                <legend>Please Fill Out:</legend>
                
                <label for="firstname">First Name:</label>
                <input type="text" id="firstname" name="firstname" required>

                <label for="lastname">Last Name:</label>
                <input type="text" id="lastname" name="lastname" required>
                
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
                
                <label for="age">Age:</label>
                <input type="text" id="age" name="age" required>
                
            </fieldset>
            <fieldset class="genders">
                <label for="gender">Gender:</label>
                <input type="radio" id="male" name="gender" value="male">
                <label for="male">Male</label>
                <input type="radio" id="female" name="gender" value="female">
                <label for="female">Female</label>
            </fieldset>
            <fieldset class="interests">    
                <label for="interests">Interests:</label>
                <input type="checkbox" id="sports" name="interests" value="sports">
                <label for="sports">Sports</label>
                <input type="checkbox" id="music" name="interests" value="music">
                <label for="music">Music</label>
                <input type="checkbox" id="reading" name="interests" value="reading">
                <label for="reading">Reading</label>
                <input type="checkbox" id="other" name="interests" value="other">
                <label for="other">Other:<input type="text"></label>
            </fieldset>
            <fieldset>
                <label for="country">Country:</label>
                <select id="country" name="country">
                    <option value="blank" disabled selected>Make Selection</option>
                    <option value="usa">USA</option>
                    <option value="canada">Canada</option>
                    <option value="mexico">Mexico</option>
                </select>
                
                <label for="comments">Comments:</label>
                <textarea id="comments" name="comments"></textarea>
                
                <label for="agree">
                    <input type="checkbox" id="agree" name="agree" required>
                    I agree to the terms and conditions
                </label>
                
                <div class="spacer"></div>
                <button type="submit">Submit</button>
            </fieldset>
        </form>
    </main>
    
    <footer>
        <p>&copy; LeRod Tongi 2025</p>
    </footer>
    <script>
        document.getElementById("myForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const first = document.getElementById("firstname").value;
            const last = document.getElementById("lastname").value;
            const age = document.getElementById("age").value;

            if (!first || !last) {
                alert("Please provide your full name.");
                return;
            }

            if (!age || age<18) {
                alert("You must be 18 years or older to submit this form.");
                return;
            }

            const data = {
                firstname: first,
                lastname: last,
                age: age
            }


            const xhr = new XMLHttpRequest();
            xhr.open("POST", "https://reqres.in/api/users", true);
            xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    alert('Form Submitted Successfully');
                } else if (xhr.readyState ===4) {
                    alert('Error submitting form.');
                } 
            };
            xhr.send(JSON.stringify(data));
            console.log(data);
        })
    </script>
</body>
</html>
